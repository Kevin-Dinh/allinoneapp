/**
 * created 03/14/2013
 * 
 * @author arakovsky
 * 
 * @description unit test for module "gjax/extensions/validation"
 * 
 * @generated by TemplateWizard, v.2012/11/21 //do not remove this comment please
 * @see http://livedocs.dojotoolkit.org/util/doh
 */
define([
	"dojo/ready",
	"doh",
	"dijit/registry",
	"dojo/i18n!gjax/extensions/nls/form",
	"gjax/extensions/_FormValueWidget", //get title, etc..
	"gjax/extensions/validation",
	"dijit/form/Select",
	"dijit/form/ValidationTextBox",
	"dojox/form/CheckedMultiSelect",
	"dojo/parser"
], function(ready, doh, registry, i18nForm) {

	var testObject = {
		testStaticWidgets : function() {
			doh.is("Input 1", registry.byId("vtb1").get("title"));
			doh.is("Input 2 (" + i18nForm.requiredTitle + ")", registry.byId("vtb2").get("title"));
			doh.is(i18nForm.requiredTitle, registry.byId("vtb3").get("title"));
			doh.is("", registry.byId("vtb4").get("title"));

			doh.is("Select 1", registry.byId("s1").get("title"));
			doh.is("Select 2 (" + i18nForm.requiredTitle + ")", registry.byId("s2").get("title"));
			doh.is(i18nForm.requiredTitle, registry.byId("s3").get("title"));
			doh.is("", registry.byId("s4").get("title"));

			doh.is("CheckedMultiSelect 1", registry.byId("cms1").get("title"));
			doh.is("CheckedMultiSelect 2 (" + i18nForm.requiredTitle + ")", registry.byId("cms2").get("title"));
			doh.is(i18nForm.requiredTitle, registry.byId("cms3").get("title"));
			doh.is("", registry.byId("cms4").get("title"));
		},
		testDynamicBehaviour : function() {
			var vtb5 = registry.byId("vtb5");
			doh.t(vtb5.get("title") == "Input 5 (" + i18nForm.requiredTitle + ")");

			vtb5.set("required", false);
			doh.t(vtb5.get("title") == "Input 5");

			vtb5.set("label", "");
			doh.t(vtb5.get("title") === "");

			vtb5.set("required", true);
			doh.t(vtb5.get("title") == i18nForm.requiredTitle);

			vtb5.set("label", "Input 5B");
			doh.t(vtb5.get("title") == "Input 5B (" + i18nForm.requiredTitle + ")");
		}
	};

	// --------------------------------------
	doh.register("validation", testObject);

	ready(function() {
		doh.run();
	});
});