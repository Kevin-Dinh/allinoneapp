/**
 * created 10/27/2015
 * 
 * @author jukrop
 * 
 * @description TODO: fill in description
 * 
 * @generated by TemplateWizard, v.2012/11/21 //do not remove this comment please
 * @see http://livedocs.dojotoolkit.org/util/doh
 */
define([
	"dojo/ready",
	"doh",
	"dijit/registry",
	"gjax/testing/validation",
	//tested libraries //TODO: move to extensions
	"gjax/extensions/dateTextBox",
	"gjax/extensions/numberTextBox",
	"gjax/extensions/rangeBoundTextBox",
	"dijit/form/NumberTextBox",
	"dojox/form/DateTextBox",
	"dojo/parser"
], function(ready, doh, registry, validation) {

	ready(function() {
		var numberTB = registry.byId("numberTB");
		var dateTB = registry.byId("dateTB");

		var numberTests = {
			min : function() {
				numberTB.set("constraints", {
					min : 10
				});
				numberTB.set("value", 5);
				numberTB.validate();

				doh.t(validation.messageDisplayed(numberTB), "Not displayed");
				doh.is("Táto hodnota musí byť väčšia alebo rovná 10.", numberTB.getErrorMessage()); // localized message
			},
			max : function() {
				numberTB.set("constraints", {
					max : 20
				});
				numberTB.set("value", 25);
				numberTB.validate();

				doh.t(validation.messageDisplayed(numberTB), "Not displayed");
				doh.is("Táto hodnota musí byť menšia alebo rovná 20.", numberTB.getErrorMessage()); // localized message
			},
			minMax : function() {
				numberTB.set("constraints", {
					min : 10,
					max : 20
				});
				numberTB.set("value", 5);
				numberTB.validate();

				doh.t(validation.messageDisplayed(numberTB), "Not displayed");
				doh.is("Táto hodnota je mimo rozsah (od 10 do 20).", numberTB.getErrorMessage()); // localized message

				numberTB.set("value", 25);
				numberTB.validate();

				doh.t(validation.messageDisplayed(numberTB), "Not displayed");
				doh.is("Táto hodnota je mimo rozsah (od 10 do 20).", numberTB.getErrorMessage()); // localized message
			},
			minMaxFormat : function() {
				numberTB.set("constraints", {
					min : 10,
					max : 20.555555,
					pattern : "#.00"
				});
				numberTB.set("value", 5);
				numberTB.validate();

				doh.t(validation.messageDisplayed(numberTB), "Not displayed");
				doh.is("Táto hodnota je mimo rozsah (od 10,00 do 20,56).", numberTB.getErrorMessage()); // localized message
			},
			changingMsg : function() {
				numberTB.set("constraints", {
					min : 10
				});
				numberTB.set("value", 5);
				numberTB.validate();

				doh.t(validation.messageDisplayed(numberTB), "Not displayed");
				doh.is("Táto hodnota musí byť väčšia alebo rovná 10.", numberTB.getErrorMessage()); // localized message

				numberTB.set("constraints", {
					max : 0
				});
				doh.is("Táto hodnota musí byť menšia alebo rovná 0.", numberTB.getErrorMessage()); // localized message
			},
			customMsg : function() {
				numberTB.set({
					rangeMessage : "Zle!", // explicit message, turs off dynamic messages
					constraints : {
						min : 10
					}
				});
				numberTB.set("value", 5);
				numberTB.validate();

				doh.t(validation.messageDisplayed(numberTB), "Not displayed");
				doh.is("Zle!", numberTB.getErrorMessage()); // localized message
			}
		};

		var dateTests = {
			min : function() {
				dateTB.set("constraints", {
					min : "2005-01-05"
				});
				dateTB.set("value", new Date(2005, 0, 4));
				dateTB.validate();

				doh.t(validation.messageDisplayed(dateTB), "Not displayed");
				doh.is("Táto hodnota musí byť väčšia alebo rovná 5.1.2005.", dateTB.getErrorMessage()); // localized message
			},
			max : function() {
				dateTB.set("constraints", {
					max : "2005-01-08"
				});
				dateTB.set("value", new Date(2005, 0, 10));
				dateTB.validate();

				doh.t(validation.messageDisplayed(dateTB), "Not displayed");
				doh.is("Táto hodnota musí byť menšia alebo rovná 8.1.2005.", dateTB.getErrorMessage()); // localized message
			},
			minMax : function() {
				dateTB.set("constraints", {
					min : "2005-01-05",
					max : "2005-01-08"
				});
				dateTB.set("value", new Date(2005, 0, 4));
				dateTB.validate();

				doh.t(validation.messageDisplayed(dateTB), "Not displayed");
				doh.is("Táto hodnota je mimo rozsah (od 5.1.2005 do 8.1.2005).", dateTB.getErrorMessage()); // localized message

				dateTB.set("value", new Date(2005, 0, 10));
				dateTB.validate();

				doh.t(validation.messageDisplayed(dateTB), "Not displayed");
				doh.is("Táto hodnota je mimo rozsah (od 5.1.2005 do 8.1.2005).", dateTB.getErrorMessage()); // localized message
			},
			customMsg : function() {
				dateTB.set({
					rangeMessage : "Zle!", // explicit message, turs off dynamic messages
					constraints : {
						min : "2005-01-05"
					}
				});
				dateTB.set("value", new Date(2005, 0, 4));
				dateTB.validate();

				doh.t(validation.messageDisplayed(dateTB), "Not displayed");
				doh.is("Zle!", dateTB.getErrorMessage()); // localized message
			}
		};

		doh.register("RangeBoundTextBox-NumberTextBox", numberTests);
		doh.register("RangeBoundTextBox-DateTextBox", dateTests);

		doh.run();
	});
});