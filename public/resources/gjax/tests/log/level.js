/**
 * created 05/05/2014
 * 
 * @author lzboronux
 * @see http://livedocs.dojotoolkit.org/util/doh
 * @description TODO: fill in description
 * 
 * @generated by TemplateWizard, v.2013/01/03 //do not remove this comment please
 */
define([
	"doh",
//tested libraries
	"gjax/log/level",
	"dojo/_base/config",
	"dojo/_base/lang"
], function(doh, level, config, lang) {

	// test object
	var testObject = {
		defaultLevel : {
			setUp : function() {
				delete config.logging; //just to be sure, there is no config
			},
			runTest : function() {
				doh.f(level("debug"));
				doh.t(level("info"));
				doh.t(level("warn")); 
				doh.t(level("error"));
			}
		},
		defaultLevelFromConfig : {
			setUp : function() {
				lang.mixin(config, {
					logging : {
						"default" : "warn"
					}
				});
			},
			runTest : function() {
				doh.f(level("debug"));
				doh.f(level("info"));
				doh.t(level("warn"));
				doh.t(level("error"));
			},
			tearDown : function() {
				delete config.logging;
			}
		},
		moduleLevel : {
			setUp : function() {
				lang.mixin(config, {
					logging : {
						"gjax/log/level" : "error"
					}
				});
			},
			runTest : function() {
				var module = "gjax/log/level";
				doh.f(level("debug", module));
				doh.f(level("info", module));
				doh.f(level("warn", module));
				doh.t(level("error", module));
			},
			tearDown : function() {
				delete config.logging;
			}
		},
		incorrectUsage : function() {
			try {
				level();
				doh.t(false, "Not expected to be here");
			} catch (e) {
				doh.is(e.message, "Uknown or no log level specified.");
			}

			try {
				level("wrongLevel");
				doh.t(false, "Not expected to be here");
			} catch (e) {
				doh.is(e.message, "Uknown or no log level specified.");
			}
		}
	};
	doh.register("log-level", testObject);
});
