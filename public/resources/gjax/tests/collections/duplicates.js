/**
 * created 12/16/2013
 * 
 * @author lzboronux
 * @see http://livedocs.dojotoolkit.org/util/doh
 * @description TODO: fill in description
 * 
 * @generated by TemplateWizard, v.2013/01/03 //do not remove this comment please
 */
define([
	"doh",
	"gjax/Collections",
	"gjax/testing/asserts"
], function(doh, collections, asserts) {

	// ---------------------------- test functions ----------------
	function second() {
		var a = [
			"aaa",
			"bbb",
			"ccc",
			1,
			2,
			3,
			"bbb",
			3,
			1,
			0,
			0
		];
		asserts.assertArrayEquals([
			"bbb",
			1,
			3,
			0
		], collections.duplicates(a, null, "second"));
	}

	function both() {
		var a = [
			"aaa",
			"bbb",
			"ccc",
			1,
			2,
			3,
			"bbb",
			3,
			1,
			0,
			0
		];
		asserts.assertArrayEquals([
			"bbb",
			"bbb",
			1,
			1,
			3,
			3,
			0,
			0
		], collections.duplicates(a, null, "both"));
	}

	function customEquals() {
		function equals(a, b) {
			return a.name == b.name && a.surname == b.surname;
		}

		var a = [
			{
				name : "John",
				surname : "Smith"
			},
			{
				name : "Jack",
				surname : "Johnson"
			},
			{
				name : "John",
				surname : "Jackson"
			},
			{
				name : "John",
				surname : "Smith"
			}
		];
		var duplicates = collections.duplicates(a, equals, "both");
		doh.is(2, duplicates.length); 
		doh.is("John", duplicates[0].name); 
		doh.is("Smith", duplicates[0].surname); 
		doh.is("John", duplicates[1].name); 
		doh.is("Smith", duplicates[1].surname); 
	}

	doh.register("duplicates", [
		second,
		both,
		customEquals
	]);
});
