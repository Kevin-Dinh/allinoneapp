/**
 * created 10/05/2012
 * 
 * @author marcus
 * @see http://livedocs.dojotoolkit.org/util/doh
 * @description unit test for modules "gjax/collections/indexOf*"
 * 
 * @generated by TemplateWizard, v.2012/10/01 //do not remove this comment please
 */
define([
	"doh",
	"dojo/_base/lang",
	"dojox/lang/functional/object",
	"./indexOf.testData",
	"./indexOf.testDataNaN",
	//tested libraries
	"gjax/collections/indexOf",
	"gjax/collections/indexOfNaNAware"
], function(doh, lang, object, testData, testDataNaN, gIndexOf, gIndexOfNaNAware) {

	// private functions
	function doTest(fnc, data) {
		for ( var i = 0; i < data.length; i += 2) {
			var input = data[i], expected = data[i + 1], output;
			try {
				output = fnc.apply(null, input);					

			} catch (e) {
				output = e.message;
			}
			doh.is(expected, output, 
					"Array: " + input[0] + 
					" Element: " + input[1] + 
					(input[2] ? " From index: " + input[2] : "") +
					" Output: " + output + " Expected: " + expected);
		}
	}

	var indexOfTest = object.mapIn(testData, function(data) {
		return lang.partial(doTest, gIndexOf, data, false);
	});
	
	var testDataFull = lang.mixin({}, testData, testDataNaN);
	var indexOfNaNAwareTest = object.mapIn(testDataFull, function(data) {
		return lang.partial(doTest, gIndexOfNaNAware, data, false);
	});

	doh.register("gjax/collections/indexOf", indexOfTest);
	doh.register("gjax/collections/indexOfNaNAware", indexOfNaNAwareTest);
});